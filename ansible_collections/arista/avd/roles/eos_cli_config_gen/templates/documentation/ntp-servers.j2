{% if ntp_server is defined and ntp_server is not none %}

## NTP

### NTP Summary
{%   if ntp_server.local_interface.interface is defined and ntp_server.local_interface.interface is not none %}

- Local Interface: {{ ntp_server.local_interface.interface }}
{%   endif %}
{%   if ntp_server.local_interface.vrf is defined and ntp_server.local_interface.vrf is not none %}

- VRF: {{ ntp_server.local_interface.vrf }}
{%   endif %}

| Node | Primary |
| ---- | ------- |
{%     for node in ntp_server.nodes %}
{%         if loop.first %}
| {{ node }} | true |
{%         else %}
| {{ node }} | - |
{%         endif %}
{%     endfor %}

{%   if ntp_server.keys is arista.avd.defined %}

|  ID  |                Hashed Key              | Algo | Trusted |
|------|----------------------------------------|------|---------|
{%       for key in ntp_server.keys | arista.avd.natural_sort %}
{%           if (ntp_server.keys[key].trusted is not arista.avd.defined) or (ntp_server.keys[key].trusted is arista.avd.defined and ntp_server.keys[key].trusted == 'true') %}
{{ "|" ~ (key | center(6,' ')) ~ "|" ~ (ntp_server.keys[key].hash | center(40, " ")) ~ "|" ~ (ntp_server.keys[key].hash_algorithm | center(6, " ")) ~ "|   True  |" }}
{%           else %}
{{ "|" ~ (key | center(6,' ')) ~ "|" ~ (ntp_server.keys[key].hash | center(40, " ")) ~ "|" ~ (ntp_server.keys[key].hash_algorithm | center(6, " ")) ~ "|  False  |" }}
{%           endif %}
{%       endfor%}
{%   endif %}

### NTP Device Configuration

```eos
{% include 'eos/ntp-servers.j2' %}
```
{% endif %}
