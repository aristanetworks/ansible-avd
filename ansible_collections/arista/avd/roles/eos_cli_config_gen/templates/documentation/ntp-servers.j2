{% if ntp_server is defined and ntp_server is not none %}

## NTP

### NTP Summary
{%   if ntp_server.local_interface.interface is defined and ntp_server.local_interface.interface is not none %}

- Local Interface: {{ ntp_server.local_interface.interface }}
{%   endif %}
{%   if ntp_server.local_interface.vrf is defined and ntp_server.local_interface.vrf is not none %}

- VRF: {{ ntp_server.local_interface.vrf }}
{%   endif %}

| Node | Primary |
| ---- | ------- |
{%     for node in ntp_server.nodes %}
{%         if loop.first %}
| {{ node }} | true |
{%         else %}
| {{ node }} | - |
{%         endif %}
{%     endfor %}

{%   if ntp_server.ntp_authenticate is defined and ntp_server.ntp_authenticate is true %}

|  ID  |                Hashed Key              | Algo | Trusted |
|------|----------------------------------------|------|---------|
{%       for key_identifier in ntp_server.ntp_authentication_keys | arista.avd.natural_sort %}
{%           if ntp_server.ntp_trusted_keys is defined and string(key_identifier) in ntp_trusted_keys %}
{{ "|" ~ (key | center(6,' ')) ~ "|" ~ (ntp_server.ntp_authentication_keys[key_identifier].key | center(40, " ")) ~ "|" ~ (ntp_server.ntp_authentication_keys[key_identifier].hash_algorithm | center(6, " ")) ~ "|   True  |" }}
{%           else %}
{{ "|" ~ (key | center(6,' ')) ~ "|" ~ (ntp_server.ntp_authentication_keys[key_identifier].key | center(40, " ")) ~ "|" ~ (ntp_server.ntp_authentication_keys[key_identifier].hash_algorithm | center(6, " ")) ~ "|  False  |" }}
{%           endif %}
{%       endfor%}
{%   endif %}

### NTP Device Configuration

```eos
{% include 'eos/ntp-servers.j2' %}
```
{% endif %}
