{# Super Spine Switch Configuration #}
## Ansible Generated ##

### {{ inventory_hostname }} ###
{# Include logic for SUPER-SPINE in L3LS EVPN Fabric #}
{% set switch = namespace() %}
{# Set switch.underlay_routing_protocol using external logic template #}
{% include 'logic/switch-underlay-routing-protocol.j2' %}
{# Set switch.overlay_routing_protocol using external logic template #}
{% include 'logic/switch-overlay-routing-protocol.j2' %}
{# Set super-spine node variables #}
{% include 'designs/l3ls-evpn/logic/super-spine.j2' %}
{# Set switch.evpn_route_servers #}
{% include 'designs/l3ls-evpn/fabric/bgp_overlay/switch-evpn-route-servers-logic.j2' %}
{# Set switch.evpn_route_clients #}
{% include 'designs/l3ls-evpn/fabric/bgp_overlay/switch-evpn-route-clients-logic.j2' %}

### Super Spine Info ###
switch_platform: {{ switch.platform }}
switch_rack: {{ switch.rack }}
switch_mgmt_ip: {{ switch.mgmt_ip }}
switch_bgp_as: {{ switch.bgp_as }}
switch_router_id: {{ switch.router_id }}
switch_evpn_role: {{ switch.evpn_role }}
switch_evpn_route_servers: {{ switch.evpn_route_servers | arista.avd.natural_sort }}
switch_evpn_route_clients: {{ switch.evpn_route_clients | arista.avd.natural_sort }}


{# OSPF Configuration #}
### Routing - OSPF ###
router_ospf:
{# underlay #}
{% include 'designs/l3ls-evpn/fabric/ospf_underlay/router-ospf.j2' %}

{# ISIS Configuration #}
### Routing - ISIS ###
router_isis:
{# underlay #}
{% include 'designs/l3ls-evpn/fabric/isis_underlay/router-isis.j2' %}
